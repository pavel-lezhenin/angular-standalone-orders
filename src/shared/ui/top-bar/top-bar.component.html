<mat-toolbar class="top-bar">
  <div class="top-bar-content">
    <!-- Left: Logo + Title + Navigation -->
    <div class="left-section">
      <a routerLink="/" class="logo-section">
        <mat-icon class="logo-icon">shopping_bag</mat-icon>
        <span class="title">{{ title }}</span>
      </a>

      <!-- Desktop navigation -->
      <nav class="desktop-nav">
        @for (item of navItems; track item.label) {
          <button 
            mat-button 
            (click)="handleNavClick(item)">
            @if (item.icon) {
              <mat-icon>{{ item.icon }}</mat-icon>
            }
            {{ item.label }}
          </button>
        }
      </nav>

      <!-- Mobile hamburger menu -->
      @if (navItems.length > 0) {
        <button 
          mat-icon-button 
          [matMenuTriggerFor]="mobileMenu" 
          class="mobile-menu-button">
          <mat-icon>menu</mat-icon>
        </button>
      }
    </div>

    <!-- Right: User Menu -->
    <div class="right-section">
      <app-user-menu />
    </div>
  </div>
</mat-toolbar>

<!-- Mobile navigation menu -->
<mat-menu #mobileMenu="matMenu">
  @for (item of navItems; track item.label) {
    <button mat-menu-item (click)="handleNavClick(item)">
      @if (item.icon) {
        <mat-icon>{{ item.icon }}</mat-icon>
      }
      <span>{{ item.label }}</span>
    </button>
  }
</mat-menu>
